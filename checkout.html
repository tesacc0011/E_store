<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>إتمام الشراء - e_store</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <header>
        <div class="container">
            <h1 class="logo">e_store</h1>
            <nav>
                <ul>
                    <li><a href="index.html">الرئيسية</a></li>
                    <li><a href="index.html">المنتجات</a></li>
                    <li><a href="index.html">عروض خاصة</a></li>
                    <li><a href="index.html">اتصل بنا</a></li>
                </ul>
            </nav>
            <div class="cart-icon">
                <i class="fas fa-shopping-cart"></i>
                <span class="cart-count">0</span>
            </div>
        </div>
    </header>

    <section class="checkout-section">
        <div class="container">
            <h2 class="section-title">إتمام عملية الشراء</h2>
            
            <div class="checkout-container">
                <div class="checkout-form">
                    <h3>معلومات الزبون</h3>
                    <form id="paymentForm">
                        <div class="form-group">
                            <label for="firstName">الاسم</label>
                            <input type="text" id="firstName" name="firstName" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="lastName">اللقب</label>
                            <input type="text" id="lastName" name="lastName" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="phone">رقم الهاتف</label>
                            <input type="tel" id="phone" name="phone" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="email">البريد الإلكتروني</label>
                            <input type="email" id="email" name="email" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="address">العنوان</label>
                            <textarea id="address" name="address" rows="3" required></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="notes">ملاحظات إضافية (اختياري)</label>
                            <textarea id="notes" name="notes" rows="2"></textarea>
                        </div>
                        
                        <button type="submit" class="btn btn-primary">تأكيد الطلب</button>
                    </form>
                </div>
                
                <div class="order-summary">
                    <h3>ملخص الطلب</h3>
                    <div class="summary-items" id="summaryItems">
                        <!-- سيتم ملؤها عبر JavaScript -->
                    </div>
                    <div class="summary-total">
                        <span>المجموع: $<span id="summaryTotal">0</span></span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-logo">
                <h2>e_store</h2>
                <p>متجرك الإلكتروني المفضل</p>
            </div>
            <div class="footer-links">
                <h3>روابط سريعة</h3>
                <ul>
                    <li><a href="#">سياسة الخصوصية</a></li>
                    <li><a href="#">شروط الاستخدام</a></li>
                    <li><a href="#">أسئلة شائعة</a></li>
                </ul>
            </div>
            <div class="social-media">
                <h3>تابعنا</h3>
                <div class="social-icons">
                    <a href="#"><i class="fab fa-facebook"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
        </div>
        <div class="copyright">
            <p>&copy; 2023 e_store. جميع الحقوق محفوظة.</p>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
    // عرض ملخص الطلب عند تحميل الصفحة
    document.addEventListener('DOMContentLoaded', () => {
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        const summaryItems = document.getElementById('summaryItems');
        const summaryTotal = document.getElementById('summaryTotal');
        
        if (cart.length === 0) {
            summaryItems.innerHTML = '<p>لا توجد عناصر في السلة</p>';
            summaryTotal.textContent = '0';
            return;
        }
        
        let total = 0;
        summaryItems.innerHTML = '';
        
        cart.forEach(item => {
            total += item.price * item.quantity;
            const itemElement = document.createElement('div');
            itemElement.className = 'summary-item';
            itemElement.innerHTML = `
                <span>${item.name} × ${item.quantity}</span>
                <span>$${(item.price * item.quantity).toFixed(2)}</span>
            `;
            summaryItems.appendChild(itemElement);
        });
        
        summaryTotal.textContent = total.toFixed(2);
        
        // تحديث عدد العناصر في السلة
        const cartCount = document.querySelector('.cart-count');
        const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
        cartCount.textContent = totalItems;
        
        // معالجة إرسال النموذج
        document.getElementById('paymentForm').addEventListener('submit', (e) => {
            e.preventDefault();
            
            // إنشاء عنصر لرسالة التأكيد
            const confirmationDiv = document.createElement('div');
            confirmationDiv.className = 'confirmation-message';
            confirmationDiv.innerHTML = `
                <div class="confirmation-content">
                    <i class="fas fa-check-circle"></i>
                    <h3>تم تأكيد الطلب بنجاح!</h3>
                    <p>سوف يصلك المنتج في غضون 24 ساعة</p>
                    <button class="btn btn-primary" onclick="window.location.href='index.html'">العودة إلى المتجر</button>
                </div>
            `;
            
            // إخفاء النموذج وإظهار رسالة التأكيد
            document.querySelector('.checkout-form').style.display = 'none';
            document.querySelector('.order-summary').style.display = 'none';
            document.querySelector('.checkout-container').appendChild(confirmationDiv);
            
            // مسح السلة بعد إتمام الطلب
            localStorage.removeItem('cart');
        });
    });
</script>
            
                
</body>
</html>